(this["webpackJsonpreact-google-books-search"]=this["webpackJsonpreact-google-books-search"]||[]).push([[0],{21:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=(a(26),a(9)),i=a(6),s=a(8),u=a(15),m=r.a.createContext();function p(e,t){switch(t.type){case"addToCart":var a=Object(u.a)({},e),n=a.cart.findIndex((function(e){return e.id==t.id}));return n>-1?(console.log("[dispatcher:".concat(t.type,"] cart.num(").concat(a.cart[n].num,") += (").concat(t.num,")")),a.cart[n].num+=t.num):a.cart.push(Object(u.a)({},t)),console.log("[GlobalStore:addToCart] id(".concat(t.id,") cartItemIdx(").concat(n,")"),a),a;default:console.log("crap sorry, dunno what to do")}}function f(e){var t=Object(n.useReducer)(p,{cart:[]}),a=Object(s.a)(t,2),o=a[0],c=a[1];return r.a.createElement(m.Provider,Object.assign({value:[o,c]},e))}var d=function(){var e=Object(i.e)();return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},r.a.createElement("img",{src:"https://www.dalmio-dent.md/wp-content/uploads/2016/11/Untitled-6.png",alt:"",style:{width:"64px",height:"64px"}})),r.a.createElement("div",{id:"navbarSupportedContent"}," ",r.a.createElement("ul",{class:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/search",className:"/search"===e.pathname?"nav-link active":"nav-link"},"Search")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/saved",className:"/saved"===e.pathname?"nav-link active":"nav-link"},"Saved")))))},b=a(5),h=a.n(b),v=a(10);var E=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useRef)();function i(){return(i=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books/".concat(t)).then((function(e){return e.json()}));case 2:a=e.sent,console.log(a),c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mybook:{booktitle:t.booktitle,bookimageLinks:t.bookimageLinks,bookinfoLink:t.bookinfoLink,bookdescription:t.bookdescription,bookauthors:t.bookauthors}})},e.next=3,fetch("/api/books",a).then((function(e){return e.json()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"row"},"Book Search",r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"searchtxt"}),r.a.createElement("input",{id:"searchtxt",type:"text",ref:l,class:"form-control"})),r.a.createElement("button",{onClick:function(e){e.preventDefault(),function(e){i.apply(this,arguments)}(l.current.value)},class:"btn btn-primary submit"},"Search"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"mb-3"},r.a.createElement("ul",{class:"col-6 list-group"},o.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{class:"list-group-item"},e.volumeInfo.title),r.a.createElement("li",{class:"list-group-item"},r.a.createElement("img",{src:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.smallThumbnail:"https://placehold.it/100x100",class:"img-thumbnail"})),r.a.createElement("li",{class:"list-group-item"},r.a.createElement("a",{href:e.volumeInfo.infoLink},"link")),r.a.createElement("li",{class:"list-group-item"},e.volumeInfo.description),r.a.createElement("li",{class:"list-group-item"},e.volumeInfo.authors),r.a.createElement("button",{onClick:function(){return function(e){return u.apply(this,arguments)}({booktitle:e.volumeInfo.title,bookimageLinks:e.volumeInfo.imageLinks,bookinfoLink:e.volumeInfo.infoLink,bookdescription:e.volumeInfo.description,bookauthors:e.volumeInfo.authors})}},"Save in Mongo"))}))))))};var g=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1];function l(){return i.apply(this,arguments)}function i(){return(i=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/books").then((function(e){return e.json()}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){window.location.assign(e.target.dataset.majid)}function m(){return(m=Object(v.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(a),n={method:"DELETE",headers:{"Content-Type":"application/json"}},e.next=5,fetch("/api/books/"+a,n).then((function(e){return e.json()}));case 5:e.sent&&l();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){l()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"mb-3"},r.a.createElement("ul",{class:"col-6 list-group"},o.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{class:"list-group-item"},e.title),r.a.createElement("li",{class:"list-group-item"},r.a.createElement("img",{src:e.image,alt:"",class:"img-thumbnail"})),r.a.createElement("li",{class:"list-group-item"},r.a.createElement("button",{"data-majid":e.link,onClick:u},"View")),r.a.createElement("li",{class:"list-group-item"},r.a.createElement("button",{"data-majid":e._id,onClick:function(t){return function(e,t){return m.apply(this,arguments)}(t,e._id)}},"Delete")),r.a.createElement("li",{class:"list-group-item"},e.authors),r.a.createElement("li",{class:"list-group-item"},e.description))})))))};var k=function(){return r.a.createElement(l.a,null,r.a.createElement(f,null," ",r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement("div",{class:"container"},r.a.createElement(i.a,{exact:!0,path:["/","/search"],component:E}),r.a.createElement(i.a,{path:"/saved",component:g})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ae0282d2.chunk.js.map